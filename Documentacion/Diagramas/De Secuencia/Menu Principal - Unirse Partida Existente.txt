title Menú de Usuario - Unirse a una partida creada

note over Usuario, Cliente, Server, Base de Datos
    Inicio de la actividad.
end note
Usuario->Cliente: Iniciar Cliente
Cliente->Usuario: Pedir Credenciales

alt Login Usuario
Usuario->Cliente: Introducir Credenciales
Cliente->Server: Mandar Credenciales
Server->Base de Datos: Comprobar Credenciales
Base de Datos->Server: Comunicar Resultado
Server->Cliente: Comunicar Resultado

alt Credenciales Incorrectas
loop Mientras Incorrecto
Cliente->Usuario: Volver a pedir
Usuario->Cliente: Introducir de nuevo
Cliente->Server: Pasar credenciales
Server->Base de Datos: Comprobar
Base de Datos->Server: Comunicar resultado
Server->Cliente: Comunicar resultado
end
else Credenciales Correctas
Cliente->Usuario: Informar
end
else Entrar como Invitado
Usuario->Cliente: Login como Invitado
Cliente->Server: Comunicar Invitado
Server->Server: Asignar Invitado
Server->Cliente: Comunicar Satisfactorio
Cliente->Usuario: Informar
end
Usuario->Cliente: Boton Unirse
Cliente->Usuario: Pedir Referencia Partida
Usuario->Cliente: Introducir Ref.
Cliente->Server: Mandar Ref.
Server->Server: Comprobar Referencia
alt Referencia no existe
loop while no existe
Server->Cliente: Comunicar no existe
Cliente->Usuario: Volver a pedir
Usuario->Cliente: Volver a introducir
Cliente->Server: Mandar
Server->Server: Comprobar de nuevo
end
else Referencia existe
Server->Cliente: Comunicar existe
Cliente-->Usuario: Informar
end
Cliente->Server: Esperar Respuesta

Server->Server: Esperar todos Jugadores
note over Server: Una vez todos se han unido
Server->Cliente: Responder con comienzo
Cliente->Cliente: Pasar a ventana de Juego

